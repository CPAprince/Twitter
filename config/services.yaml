# yaml-language-server: $schema=../vendor/symfony/dependency-injection/Loader/schema/services.schema.json

services:
    _defaults:
        autowire: true
        autoconfigure: true
    
    Twitter\:
        resource: '../src/'
        exclude:
            - '../src/Kernel.php'
            - '../src/*/Domain/*/Model/'
    
    Twitter\IAM\UI\REST\Controller\:
        resource: '../src/IAM/UI/REST/Controller/*'
        tags: [ 'controller.service_arguments' ]
    
    Twitter\IAM\Application\CreateUser\CreateUserCommandHandler:
        arguments:
            $userRepository: '@Twitter\IAM\Domain\User\Model\UserRepository'
    
    Twitter\IAM\Domain\User\Model\UserRepository:
        class: Twitter\IAM\Infrastructure\Persistence\MySQL\Repository\MySQLUserRepository
